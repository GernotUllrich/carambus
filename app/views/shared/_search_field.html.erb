<div class="relative" data-controller="filter-popup">
  <div class="flex items-center">
    <div class="relative flex-grow">
      <input type="text"
             name="sSearch"
             value="<%= params[:sSearch] %>"
             data-filter-popup-target="searchInput"
             data-action="input->search#perform"
             class="block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm pr-10"
             placeholder="<%= t('search') %>">
      
      <div class="absolute inset-y-0 right-0 flex items-center pr-3">
        <button type="button" 
                data-action="click->filter-popup#toggle"
                class="text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200">
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z" clip-rule="evenodd"/>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <%= render partial: 'shared/filter_popup', locals: { fields: fields } %>
</div> 