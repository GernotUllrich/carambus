    1  id
    2  cd
    3  rbenv install 3.2.1
    4  sudo apt update
    5  sudo apt install -y git curl autoconf patch build-essential rustc libssl-dev libyaml-dev libreadline-dev zlib1g-dev libgmp-dev libncurses5-dev libffi-dev libgdbm-dev libgdbm6 libdb-dev libtool uuid-dev
    6  curl -fsSL https://github.com/rbenv/rbenv-installer/raw/HEAD/bin/rbenv-installer | bash
    7  echo 'export PATH="$HOME/.rbenv/bin:$PATH"' >> ~/.bashrc
    8  echo 'eval "$(rbenv init -)"' >> ~/.bashrc
    9  ps
   10  source ~/.bashrc
   11  type rbenv
   12  rbenv install 3.2.1
   13  rbenv global 3.2.1
   14  sudo su - postgres
   15  systemctl status postgresql
   16  systemctl status postgres
   17  ps -ef |grep postgres
   18  ps -ef |grep post
   19  psql
   20  dpkg -l
   21  id
   22  rails
   23  rbenv versions
   24  which ruby
   25  which rails
   26  psql
   27  sudo su - postgres
   28  cd carambus/
   29  ls
   30  cd shared/
   31  ls
   32  cd config/
   33  ls
   34  vi database.yml
   35  pwd
   36  cd
   37  cd carambus/current
   38  pwd
   39  cd
   40  ls
   41  pwd
   42  ls
   43  gunzip carambus_api_development.sql.gz
   44  sudo su - postgres
   45  sudo vi /etc/postgresql/11/main/pg_hba.conf
   46  sudo vi /etc/postgresql/*/main/pg_hba.conf
   47  sudo systemctl restart postgresql
   48  sudo systemctl status postgresql
   49  sudo su - postgres
   50  ps -ef
   51  scstemctl status puma-carambus
   52  systemctl status puma-carambus
   53  ls /etc/systemd/system
   54  ls
   55  rm carambus_api_development.sql.gz
   56  ls -l
   57  gunzip carambus_development.sql.gz
   58  ls -l
   59  pwd
   60  ls
   61  cd carambus/shared/
   62  ls
   63  ls config/
   64  ls config/credentials/
   65  cd config/
   66  ls
   67  cat database.yml 
   68  ls
   69  vi carambus.yml 
   70  cd credentials/
   71  ls
   72  cd ..
   73  ls environments/
   74  sudo su
   75  ls -lt
   76  cat carambus/shared/config/database.yml 
   77  sudo su - postgres
   78  psql -Uwww_data carambus_production
   79  sudo su - postgres
   80  sudo systemctl restart postgresql
   81  sudo systemctl status postgresql
   82  ps -ef |grep post
   83  cat carambus/shared/config/database.yml 
   84  psql -Uwww_data carambus_production
   85  sudo su
   86  nginx -t
   87  wpd
   88  pwd
   89  sudo su
   90  pwd
   91  cd /var/log/carambus/
   92  ls -lt
   93  touch XXX
   94  ls -l
   95  rm XXX
   96  sudo su
   97  pwd
   98  cd carambus/current
   99  cd log
  100  ls
  101  vi production.log 
  102  cd ..
  103  yarn install
  104  aname -a
  105  uname -a
  106  curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -
  107  echo "deb https://dl.yarnpkg.com/debian/ stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
  108  sudo apt update
  109  sudo apt install --no-install-recommends -y yarn
  110  nodejs
  111  yarn install
  112  yarn build
  113  yarn build:css
  114  RAILS_ENV=production bundle exec rails assets:precompile
  115  ls public/assets/app*
  116  bin/manage-puma carambus
  117  bin/manage-puma.sh carambus
  118  tail -f log/production.log 
  119  pwd
  120  redis
  121  sudo systemctl start redis
  122  sudo apt update && sudo apt upgrade -y
  123  sudo systemctl enable redis-server
  124  sudo systemctl start redis-server
  125  sudo apt update && sudo apt upgrade -y
  126  sudo apt install redis-server -y
  127  sudo systemctl enable redis-server
  128  sudo systemctl start redis-server
  129  sudo systemctl restart puma-carambus
  130  sudo reboot
  131  sudo systemctl restart puma-carambus
  132  cd carambus/current
  133  yarn install
  134  yarn build
  135  yarn build:css
  136  RAILS_ENV=production bundle exec rails assets:precompile
  137  sudo systemctl restart puma-carambus
  138  scstemctl status puma-carambus
  139  systemctl status puma-carambus
  140  pwd
  141  cd carambus/current
  142  RAILS_ENV=production bundle exec rails c
  143  gunzip carambus_development.sql.gz
  144  sudo su - postgres
  145  pwd
  146  cat carambus/current/config/database.yml 
  147  psql -Uwww-data carambus_production
  148  psql -Uwww_data carambus_production
  149  cd carambus/current
  150  RAILS_ENV=production bundle exec rails c
  151  cd carambus/current
  152  RAILS_ENV=production bundle exec rails c
  153  cd carambus/current
  154  tail -f log/*log
  155  hostname -I
  156  IPADDR=$(hostname -I | awk '{print $1}')
  157  echo "My WLAN IP is $IPADDR"
  158  ip -4 addr show wlan0
  159  # Try with ip command
  160  IPADDR=$(ip -4 addr show wlan0 | grep -oP '(?<=inet\s)\d+(\.\d+){3}')
  161  if [ -z "$IPADDR" ]; then
  162    IPADDR=$(ifconfig wlan0 | grep inet | awk '{ print $2 }'); fi
  163  # Print result
  164  echo "My WLAN IP is $IPADDR"
  165  ifconfig wlan0
  166  IPADDR=$(ifconfig wlan0 | grep inet | awk '{ print $2 }')
  167  echo $IPADDR
  168  ifconfig wlan0 |grep inet
  169  ifconfig wlan0 |grep 'inet '
  170  ifconfig wlan0 |grep 'inet '|awk '{print $2}'
  171  pwd
  172  cd carambus/current
  173  ls bin
  174  cat bin/start_scoreboard
  175  cat config/scoreboard_url 
  176  ls -l
  177  cd carambus/current
  178  cat config/scoreboard_url 
  179  ls -l config/scoreboard_url 
  180  cat /var/www/carambus/shared/config/scoreboard_url
  181  cd carambus/current
  182  cat config/scoreboard_url 
  183  ls bin
  184  vi bin/start_scoreboard
  185  bin/start_scoreboard
  186  pwd
  187  sudo adduser pj
  188  sudo su
  189  pwd
  190  sudo su -
  191  ps -ef
  192  sudo systemctl status puma-carambus
  193  sudo systemctl stop puma-carambus
  194  sudo systemctl start puma-carambus
  195  sudo systemctl status puma-carambus
  196  id
  197  pwd
  198  tail -f /var/log/postgresql//postgresql-15-main.log
  199  sudo tail -f /var/log/postgresql//postgresql-15-main.log
  200  sudo vi /etc/postgresql/15/main/postgresql.conf
  201  systemctl start puma-carambus
  202  cd carambus/current
  203  bin/manage-puma carambus
  204  bin/manage-puma.sh carambus
  205  fupwd
  206  cd log
  207  less production.log 
  208  tail -f production.log 
  209  ls -l
  210  tail -f *log
  211  cd ..
  212  RAILS_ENV=production bundle exec rails c
  213  sudo systemctl status postgresql
  214  sudo systemctl start postgresql
  215  sudo systemctl status postgresql
  216  psql
  217  sudo su
  218  sudo systemctl status postgresql
  219  sudo systemctl start postgresql
  220  sudo systemctl status postgresql
  221  cd /var/log
  222  ls
  223  cd postgresql/
  224  ls -lt
  225  cat postgresql-15-main.log
  226  sudo cat postgresql-15-main.log
  227  locale -a | grep en_GB
  228  locale -a
  229  sudo locale-gen en_GB.UTF-8
  230  sudo update-locale
  231  sudo systemctl restart postgresql
  232  sudo systemctl status postgresql
  233  sudo systemctl restart postgresql
  234  sudo systemctl status postgresql
  235  systemctl status postgresql
  236  systemctl restart postgresql
  237  sudo systemctl restart postgresql
  238  systemctl status postgresql
  239  tail -f /var/log/postgresql/postgresql-15-main.log
  240  sudo tail -f /var/log/postgresql/postgresql-15-main.log
  241  ls
  242  pwd
  243  cd carambus/current
  244  vi config/database.yml 
  245  cat config/database.yml
  246  sudo su - postgres
  247  vi config/database.yml 
  248  psql carambus_production_pj
  249  psql -Uwww_data carambus_production_pj
  250  cd
  251  ls
  252  ls -lt
  253  gunzip carambus_development_pj.sql.gz
  254  psql -Uwww_data carambus_production_pj
  255  cd carambus/current
  256  ls -l config/database.yml 
  257  vi config/database.yml 
  258  cd ..
  259  pwd
  260  cd ..
  261  ls
  262  rm -rf carambus_pj
  263  mv carambus carambus_pj
  264  sudo su
  265  pwd
  266  mv carambus_pj carambus
  267  cd carambus/current
  268  RAILS_ENV=production bundle exec rails c
  269  cd carambus/current
  270  RAILS_ENV=production bundle exec rails c
  271  git clone https://github.com/FD-/RPiPlay.git
  272  cd RPiPlay
  273  sudo apt-get install cmake libavahi-compat-libdnssd-dev libplist-dev libssl-dev     libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev gstreamer1.0-libav     gstreamer1.0-vaapi gstreamer1.0-plugins-bad
  274  mkdir build
  275  cd build
  276  cmake
  277  cmake ..
  278  make
  279  ls
  280  sudo make install
  281  cd
  282  which rpiplay
  283  sudo su - pj
  284  which rpiplayer
  285  pwd
  286  ls
  287  cd RPiPlay/
  288  cd build/
  289  ls
  290  which rpiplay
  291  cd
  292  ls
  293  sudo su - pj
  294  sudo iptables -P INPUT ACCEPT
  295  sudo iptables -P FORWARD ACCEPT
  296  sudo iptables -P OUTPUT ACCEPT
  297  sudo iptables -F
  298  sudo ss -tuln
  299  sudo su
  300  sudo ss -tuln
  301  sudo ss -tuln |egrep -e '(5353|7000)'
  302  sudo ss -tuln | grep 7000
  303  pwd
  304  sudo su - pj
  305  id
  306  sudo su
  307  pwd
  308  cd /home
  309  ls
  310  sudo su
  311  pwd
  312  sudo su
  313  id
  314  ls
  315  cd RPiPlay/
  316  cd build/
  317  ls
  318  ./rpiplay -n "TESTRPI" -d
  319  cd
  320  pwd
  321  ls
  322  cd RPiPlay/
  323  ls
  324  cd ..
  325  rm -rf RPiPlay/
  326  git clone https://github.com/FD-/RPiPlay.git
  327  cd RPiPlay/
  328  mkdir build
  329  cd build/
  330  cmake ..
  331  make install
  332  ls -ld /usr/local/bin
  333  sudo su
  334  pwd
  335  sudo su
  336  sudo su 
  337  #sudo su
  338  sudo su
  339  sudo su -
  340  sudo su
  341  cd carambus/current
  342  yarn build
  343  yarn build:css
  344  RAILS_ENV=production bundle exec rails assets:precompile
  345  ls bin
  346  vi bin/manage-puma.sh 
  347  bin/manage-puma.sh 
  348  vi bin/manage-puma.sh 
  349  bin/manage-puma.sh 
  350  cat REVISION
  351  cd carambus/current
  352  yarn build
  353  yarn build:css
  354  RAILS_ENV=production bundle exec rails assets:precompile
  355  pwd
  356  ls /var/log/
  357  cd carambus/current
  358  yarn build
  359  yarn build:css
  360  RAILS_ENV=production bundle exec rails assets:precompile
  361  vi bin/manage-puma.sh 
  362  bin/manage-puma.sh
  363  cd carambus/current
  364  yarn build; yarn build:css
  365  RAILS_ENV=production bundle exec rails assets:precompile
  366  pwd
  367  ls
  368  vi bin/start_scoreboard
  369  :q!
  370  vi bin/start_scoreboard
  371  cd carambus/current
  372  vi bin/start_scoreboard
  373  cd carambus/current
  374  yarn build; yarn build:css
  375  RAILS_ENV=production bundle exec rails assets:precompile
  376  vi bin/start_scoreboard
  377  ls
  378  mv XXX ../shared/
  379  mv XXX /tmp
  380  vi bin/start_scoreboard
  381  cd /usr/local/bin 
  382  ls -ld .
  383  pwd
  384  id
  385  sudo vi start-scoreboard.sh
  386  ls -l
  387  chmod 755 start-scoreboard.sh 
  388  sudo chmod 755 start-scoreboard.sh 
  389  sudo vi exit-scoreboard.sh
  390  sudo chmod 755 exit-scoreboard.sh
  391  sudo vi restart-scoreboard.sh
  392  chmod 755 restart-scoreboard.sh
  393  sudo chmod 755 restart-scoreboard.sh
  394  pwd
  395  cd
  396  sudo su 
  397  cd carambus/current
  398  /usr/local/bin/start-scoreboard.sh 
  399  sudo apt update
  400  sudo apt install wmctrl
  401  vi bin/start-scoreboard.sh
  402  ls config
  403  cat config/scoreboard_url 
  404  ls -l bin
  405  cd carambus/current
  406  cat REVISION
  407  cd carambus/current/bil
  408  cd carambus/current/bin
  409  ls -lt
  410  cd carambus/current
  411  vi bin/start-scoreboard.sh 
  412  pwd
  413  cat /var/www/carambus/current/bin/start-scoreboard.sh 
  414  ls -l bin
  415  cd carambus/current
  416  RAILS_ENV=production bundle exec rails assets:precompile
  417  yarn build
  418  yarn build:css
  419  RAILS_ENV=production bundle exec rails assets:precompile
  420  id
  421  ps -ef 
  422  sudo kill -9 4626
  423  sudo kill -9 3622
  424  ps -ef 
  425  kill -9 3624
  426  sudo kill -9 3624
  427  vd bn
  428  cd bin
  429  ls
  430  cat start_scoreboard
  431  cd
  432  vi ~/.config/lxsession/LXDE-pi/autostart
  433  cd
  434  sudo su
  435  vi ~/.config/lxsession/LXDE-pi/autostart
  436  sudo su -
  437  cd bin
  438  cd carambus/current/bin
  439  ls
  440  vi start-scoreboard.sh
  441  vi test-startup.sh 
  442  vi autostart-scoreboard.sh
  443  ls -l
  444  chmod +x autostart-scoreboard.sh 
  445  ls /tmp/*log
  446  ls -lt /tmp/*log
  447  cat /tmp/*log
  448  vi start-scoreboard.sh 
  449  ls -lt /tmp/*log
  450  rm /tmp/scoreboard-debug.log
  451  sudo rm /tmp/scoreboard-debug.log
  452  vi start-scoreboard.sh 
  453  ls -lt /tmp/*log
  454  vi start-scoreboard.sh 
  455  ls -lt /tmp/*log
  456  cat /tmp/scoreboard-autostart.log
  457  sido reboot
  458  sudo reboot
  459  cat /tmp/scoreboard-autostart.log
  460  tail -f /tmp/scoreboard-autostart.log
  461  sudo journalctl --user -u scoreboard.service
  462  pwd
  463  vi /var/www/carambus/current/.config/systemd/user/scoreboard.service
  464  mkdir -p /var/www/.config/systemd/user
  465  vi /var/www/.config/systemd/user/scoreboard.service
  466  journalctl --user -xeu scoreboard.service
  467  systemctl --user status scoreboard.service
  468  sudovi /etc/systemd/system/scoreboard.service
  469  sudo vi /etc/systemd/system/scoreboard.service
  470  journalctl -xeu scoreboard.service
  471  sudo systemctl start scoreboard.service
  472  Job for scoreboard.service failed because the control process exited with error code.
  473  See "systemctl status scoreboard.service" and "journalctl -xeu scoreboard.service" for details.
  474  www-data@raspberrypi:~ $ journalctl -xeu scoreboard.service
  475  Hint: You are currently not seeing messages from other users and the system.
  476  No journal files were opened due to insufficient permissions.
  477  www-data@raspberrypi:~ $ 
  478  vi /etc/systemd/system/scoreboard.service
  479  sudo vi /etc/systemd/system/scoreboard.service
  480  journalctl -xeu scoreboard.service
  481  sudo journalctl -xeu scoreboard.service
  482  sudo vi  /etc/systemd/system/scoreboard.service
  483  sudo systemctl status scoreboard.service
  484  sudo -u pj -
  485  sudo -u pj
  486  sudo -u pj bash
  487  bin/scoreboard-control.sh status
  488  ls bin
  489  cd carambus/current
  490  bin/scoreboard-control.sh status
  491  ls -l status
  492  ls -l bin
  493  chmod +x scoreboard-control.sh
  494  chmod +x bin/scoreboard-control.sh
  495  bin/scoreboard-control.sh status
  496  ssh -p 8910 pj@192.168.178.48
  497  ssh pj@192.168.178.48
  498  vi bin/scoreboard-control.sh 
  499  bin/scoreboard-control.sh status
  500  vi bin/scoreboard-control.sh 
  501  bin/scoreboard-control.sh status
  502  vi carambus/current/bin/autostart-scoreboard.sh 
  503  sudo reboot
  504  cd carambus/current
  505  sudo su
  506  ./get_versions.sh 
  507  cd /boot/firmware/
  508  ls
  509  cat wpa_supplicant.conf 
  510  cd /etc
  511  grep -r heibel .
  512  sudo su
  513  cd /booz
  514  sudo su
  515  sudo su - postgres
  516  cd carambus/current/config
  517  cat database.yml 
  518  sudo su - postgres
  519  sudo su
  520  sudo su - postgres
  521  cd carambus/current
  522  cat config/database.yml 
  523  psql -Uwww_data carambus_production_nbv
  524  cd
  525  gunzip carambus_development_nbv.sql.gz
  526  psql -Uwww_data carambus_development_nbv
  527  psql -Uwww_data carambus_production_nbv
  528  cd carambus/current
  529  vi config/database.yml 
  530  RAILS_ENV=production bundle exec rails c
  531  ls -l log
  532  ls -lL log
  533  sudo su
  534  ls -l config/database.yml 
  535  ls -l config
  536  vi config/scoreboard_url 
  537  iperf3 -c 192.168.2.210
  538  ./get_versions.sh 
  539  iperf3 -c 192.168.2.210
  540  ls
  541  rm ystemctl\ --user\ disable\ scoreboard.service 
  542  ./get_versions.sh 
  543  ls
  544  rm *.sql
  545  ls
  546  cd carambus/ciu
  547  cd carambus/current
  548  cat config/database.yml 
  549  cd
  550  gunzip carambus_development_nbv_phil_master_12_0729.sql.gz
  551  ls
  552  cd carambus/current
  553  sudo su - postgres
  554  psql -Uwww_data carambus_production_nbv
  555  ls /etc/systemd/system
  556  sudo systemctl status puma-carambus
  557  sudo systemctl stop puma-carambus
  558  sudo systemctl start puma-carambus
  559  sudo systemctl status puma-carambus
  560  cd config/
  561  vii scoreboard_url 
  562  vi scoreboard_url
  563  ls
  564  cd
  565  cd .config/
  566  ls
  567  ks systemd/
  568  ls systemd/
  569  ls systemd/user/scoreboard.service 
  570  vi scoreboard.service
  571  vi systemd/user/scoreboard.service 
  572  phil
  573  cd carambus/current
  574  ruby -v
  575  rbenv -list
  576  rbenv help
  577  rbenv versions
  578  rbenv -v
  579  which rbenv
  580  history
  581  history > HISTORY
