
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Comprehensive documentation for Carambus - Professional billiards tournament management system">
      
      
      
        <link rel="canonical" href="https://GernotUllrich.github.io/carambus/en/internal/archive/chat-status-docs-2025/SCENARIO_SYSTEM_IMPLEMENTATION/">
      
      
      
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Scenario-System Implementation - Dokumentation - Carambus Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#scenario-system-implementation-dokumentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../" title="Carambus Documentation" class="md-header__button md-logo" aria-label="Carambus Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Carambus Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Scenario-System Implementation - Dokumentation
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../../../../internal/archive/chat-status-docs-2025/SCENARIO_SYSTEM_IMPLEMENTATION/" hreflang="de" class="md-select__link">
              Deutsch
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/GernotUllrich/carambus" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GernotUllrich/carambus
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../" class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../decision-makers/" class="md-tabs__link">
          
  
  
    
  
  Decision Makers

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../players/" class="md-tabs__link">
          
  
  
    
  
  Players

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../managers/" class="md-tabs__link">
          
  
  
    
  
  Managers

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../administrators/" class="md-tabs__link">
          
  
  
    
  
  Administrators

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../developers/" class="md-tabs__link">
          
  
  
    
  
  Developers

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../reference/API/" class="md-tabs__link">
          
  
  
    
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../about/" class="md-tabs__link">
          
  
  
    
  
  About

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../" title="Carambus Documentation" class="md-nav__button md-logo" aria-label="Carambus Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Carambus Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/GernotUllrich/carambus" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GernotUllrich/carambus
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../decision-makers/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Decision Makers
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Decision Makers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../decision-makers/executive-summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Executive Summary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../decision-makers/features-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Features Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../decision-makers/deployment-options/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment Options
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../players/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Players
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Players
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../players/scoreboard-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scoreboard Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../players/tournament-participation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tournament Participation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../players/ai-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI-Powered Search
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../managers/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Managers
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Managers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../managers/tournament-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tournament Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../managers/league-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    League Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../managers/single-tournament/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Single Tournament
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../managers/table-reservation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Table Reservation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../managers/admin-roles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Admin Roles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../managers/clubcloud-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ClubCloud Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../managers/search-filters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Search & Filters
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../administrators/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Administrators
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Administrators
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../administrators/installation-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../administrators/raspberry-pi-quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Raspberry Pi Quickstart
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../administrators/raspberry-pi-client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Raspberry Pi Client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../administrators/scoreboard-autostart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scoreboard Autostart
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../administrators/server-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Server Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../administrators/email-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Email Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../administrators/database-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Database Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../administrators/streaming-quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    YouTube Streaming Quickstart
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../administrators/streaming-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    YouTube Streaming Setup
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../developers/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Developers
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developers/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developers/developer-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developers/database-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Database Design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developers/er-diagram/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ER Diagram
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developers/scenario-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scenario Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developers/rake-tasks-debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Testing & Debugging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developers/deployment-workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developers/data-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developers/database-partitioning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Database Partitioning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developers/paper-trail-optimization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Paper Trail Optimization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developers/game-plan-reconstruction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Game Plan Reconstruction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developers/tournament-duplicate-handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tournament Duplicates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developers/region-tagging-cleanup-summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Region Tagging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developers/streaming-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    YouTube Streaming Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developers/pool-scoreboard-changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pool Scoreboard Changelog
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/terms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Terms
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/privacy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Privacy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/config-lock-files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Config Lock Files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Search
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../reference/mkdocs_dokumentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MkDocs
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ubersicht" class="md-nav__link">
    <span class="md-ellipsis">
      Übersicht
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architektur" class="md-nav__link">
    <span class="md-ellipsis">
      Architektur
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architektur">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-repository-struktur" class="md-nav__link">
    <span class="md-ellipsis">
      1. Repository-Struktur
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-scenario-konfiguration-configyml" class="md-nav__link">
    <span class="md-ellipsis">
      2. Scenario-Konfiguration (config.yml)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementierte-rake-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      Implementierte Rake Tasks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementierte Rake Tasks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-scenario-management" class="md-nav__link">
    <span class="md-ellipsis">
      1. Scenario-Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-konfigurations-generierung" class="md-nav__link">
    <span class="md-ellipsis">
      2. Konfigurations-Generierung
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-rails-root-folder-management" class="md-nav__link">
    <span class="md-ellipsis">
      3. Rails-Root-Folder Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-datenbank-management" class="md-nav__link">
    <span class="md-ellipsis">
      4. Datenbank-Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      5. Deployment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#templates" class="md-nav__link">
    <span class="md-ellipsis">
      Templates
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Templates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-database-template-databaseymlerb" class="md-nav__link">
    <span class="md-ellipsis">
      1. Database Template (database.yml.erb)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-carambus-template-carambusymlerb" class="md-nav__link">
    <span class="md-ellipsis">
      2. Carambus Template (carambus.yml.erb)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-puma-template-puma_rberb" class="md-nav__link">
    <span class="md-ellipsis">
      4. Puma Template (puma_rb.erb)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verfugbare-scenarios" class="md-nav__link">
    <span class="md-ellipsis">
      Verfügbare Scenarios
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Verfügbare Scenarios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-carambus_api" class="md-nav__link">
    <span class="md-ellipsis">
      1. carambus_api
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-carambus" class="md-nav__link">
    <span class="md-ellipsis">
      2. carambus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-carambus_location_2459" class="md-nav__link">
    <span class="md-ellipsis">
      3. carambus_location_2459
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-carambus_location_2460" class="md-nav__link">
    <span class="md-ellipsis">
      4. carambus_location_2460
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verwendung" class="md-nav__link">
    <span class="md-ellipsis">
      Verwendung
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Verwendung">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-neues-scenario-erstellen" class="md-nav__link">
    <span class="md-ellipsis">
      1. Neues Scenario erstellen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-scenario-fur-development-vorbereiten" class="md-nav__link">
    <span class="md-ellipsis">
      2. Scenario für Development vorbereiten
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-scenario-fur-deployment-vorbereiten" class="md-nav__link">
    <span class="md-ellipsis">
      3. Scenario für Deployment vorbereiten
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-scenario-deployen" class="md-nav__link">
    <span class="md-ellipsis">
      4. Scenario deployen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-konfigurationen-aktualisieren" class="md-nav__link">
    <span class="md-ellipsis">
      5. Konfigurationen aktualisieren
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migration-vom-mode-switch-system" class="md-nav__link">
    <span class="md-ellipsis">
      Migration vom Mode-Switch-System
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Migration vom Mode-Switch-System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-parameter-extraktion" class="md-nav__link">
    <span class="md-ellipsis">
      1. Parameter-Extraktion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-vorteile-der-neuen-architektur" class="md-nav__link">
    <span class="md-ellipsis">
      2. Vorteile der neuen Architektur
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-nachste-schritte" class="md-nav__link">
    <span class="md-ellipsis">
      3. Nächste Schritte
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technische-details" class="md-nav__link">
    <span class="md-ellipsis">
      Technische Details
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Technische Details">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ssh-konfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      SSH-Konfiguration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datenbank-dumps" class="md-nav__link">
    <span class="md-ellipsis">
      Datenbank-Dumps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#capistrano-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Capistrano-Integration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-automatisierung" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment-Automatisierung
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deployment-Automatisierung">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vollstandige-automatisierung" class="md-nav__link">
    <span class="md-ellipsis">
      Vollständige Automatisierung
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployment-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment-Workflows
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fehlerbehebung" class="md-nav__link">
    <span class="md-ellipsis">
      Fehlerbehebung
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fehlerbehebung">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#haufige-probleme" class="md-nav__link">
    <span class="md-ellipsis">
      Häufige Probleme
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#status" class="md-nav__link">
    <span class="md-ellipsis">
      Status
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="scenario-system-implementation-dokumentation">Scenario-System Implementation - Dokumentation<a class="headerlink" href="#scenario-system-implementation-dokumentation" title="Permanent link">&para;</a></h1>
<h2 id="ubersicht">Übersicht<a class="headerlink" href="#ubersicht" title="Permanent link">&para;</a></h2>
<p>Das Scenario-System wurde entwickelt, um die komplexe Test- und Deployment-Architektur zu vereinfachen. Es ersetzt das bisherige Mode-Switch-System durch eine klare, template-basierte Konfiguration.</p>
<h2 id="architektur">Architektur<a class="headerlink" href="#architektur" title="Permanent link">&para;</a></h2>
<h3 id="1-repository-struktur">1. Repository-Struktur<a class="headerlink" href="#1-repository-struktur" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>/Volumes/EXT2TB/gullrich/DEV/carambus/
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>├── carambus_master/                 # Haupt-Repository (Code + Templates)
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>│   ├── lib/tasks/scenarios.rake    # Scenario-Management Tasks
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>│   ├── templates/                   # ERB-Templates (verschoben von carambus_data)
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>│   │   ├── database/
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>│   │   ├── carambus/
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>│   │   ├── deploy/
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>│   │   ├── nginx/
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>│   │   └── puma/
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>│   └── ...
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>├── carambus_data/                   # Konfigurations-Repository
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>│   └── scenarios/                   # Scenario-Konfigurationen
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>│       ├── carambus_api/
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>│       ├── carambus/                # Lokaler Server
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>│       ├── carambus_location_2459/
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>│       └── carambus_location_2460/
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>├── carambus_api/                    # Generierte Rails-Root-Folders
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>├── carambus/                        # Generierte Rails-Root-Folders
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>├── carambus_location_2459/          # Generierte Rails-Root-Folders
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>└── carambus_location_2460/
</code></pre></div>
<h3 id="2-scenario-konfiguration-configyml">2. Scenario-Konfiguration (config.yml)<a class="headerlink" href="#2-scenario-konfiguration-configyml" title="Permanent link">&para;</a></h3>
<p>Jedes Scenario hat eine <code>config.yml</code> mit folgender Struktur:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nn">---</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nt">scenario</span><span class="p">:</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">carambus_location_2459</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PHAT Consulting Location</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">  </span><span class="nt">location_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2459</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">  </span><span class="nt">context</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NBV</span><span class="w">                    </span><span class="c1"># API, LOCAL, oder NBV</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">  </span><span class="nt">region_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">  </span><span class="nt">club_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">357</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">  </span><span class="nt">api_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://newapi.carambus.de/</span><span class="w">  </span><span class="c1"># null für API-Server</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">  </span><span class="nt">season_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2025/2026</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">  </span><span class="nt">application_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">carambus</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">  </span><span class="nt">basename</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">carambus_carambus_location_2459</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">  </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">master</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="w">  </span><span class="nt">is_main</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w">                 </span><span class="c1"># true nur für Haupt-API-Server</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="nt">environments</span><span class="p">:</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="w">  </span><span class="nt">development</span><span class="p">:</span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="w">    </span><span class="nt">webserver_host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="w">    </span><span class="nt">webserver_port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3000</span>
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="w">    </span><span class="nt">database_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">carambus_location_2459_development</span>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a><span class="w">    </span><span class="nt">ssl_enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="w">    </span><span class="nt">database_username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span>
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a><span class="w">    </span><span class="nt">database_password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span>
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>
<a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a><span class="w">  </span><span class="nt">production</span><span class="p">:</span>
<a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a><span class="w">    </span><span class="nt">webserver_host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.178.107</span>
<a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a><span class="w">    </span><span class="nt">ssh_host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.178.107</span>
<a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a><span class="w">    </span><span class="nt">webserver_port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">81</span>
<a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a><span class="w">    </span><span class="nt">ssh_port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8910</span>
<a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a><span class="w">    </span><span class="nt">database_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">carambus_location_2459_production</span>
<a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a><span class="w">    </span><span class="nt">ssl_enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a><span class="w">    </span><span class="nt">database_username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">www_data</span><span class="w">    </span><span class="c1"># Mit Unterstrich (PostgreSQL-kompatibel)</span>
<a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a><span class="w">    </span><span class="nt">database_password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">toS6E7tARQafHCXz</span>
<a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a><span class="w">    </span><span class="nt">puma_socket_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/puma.sock</span>
<a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a><span class="w">    </span><span class="nt">deploy_to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/www/carambus_location_2459</span><span class="w">  </span><span class="c1"># Unix Socket Pfad</span>
</code></pre></div>
<h2 id="implementierte-rake-tasks">Implementierte Rake Tasks<a class="headerlink" href="#implementierte-rake-tasks" title="Permanent link">&para;</a></h2>
<h3 id="1-scenario-management">1. Scenario-Management<a class="headerlink" href="#1-scenario-management" title="Permanent link">&para;</a></h3>
<h4 id="scenariolist"><code>scenario:list</code><a class="headerlink" href="#scenariolist" title="Permanent link">&para;</a></h4>
<p>Listet alle verfügbaren Scenarios auf.</p>
<h3 id="2-konfigurations-generierung">2. Konfigurations-Generierung<a class="headerlink" href="#2-konfigurations-generierung" title="Permanent link">&para;</a></h3>
<h4 id="scenariogenerate_configsscenario_nameenvironment"><code>scenario:generate_configs[scenario_name,environment]</code><a class="headerlink" href="#scenariogenerate_configsscenario_nameenvironment" title="Permanent link">&para;</a></h4>
<p>Generiert Konfigurationsdateien für ein Scenario und Environment:
- <code>database.yml</code>
- <code>carambus.yml</code>
- <code>deploy.rb</code> und <code>deploy/production.rb</code> (nur für development)</p>
<h4 id="scenariosetupscenario_nameenvironment"><code>scenario:setup[scenario_name,environment]</code><a class="headerlink" href="#scenariosetupscenario_nameenvironment" title="Permanent link">&para;</a></h4>
<p>Komplettes Setup eines Scenarios:
1. Generiert Konfigurationsdateien
2. Erstellt/Stellt Datenbank wieder her
3. Kopiert Dateien in Rails-Root-Folder</p>
<h3 id="3-rails-root-folder-management">3. Rails-Root-Folder Management<a class="headerlink" href="#3-rails-root-folder-management" title="Permanent link">&para;</a></h3>
<h4 id="scenariocreate_rails_rootscenario_name"><code>scenario:create_rails_root[scenario_name]</code><a class="headerlink" href="#scenariocreate_rails_rootscenario_name" title="Permanent link">&para;</a></h4>
<p>Erstellt einen neuen Rails-Root-Folder für ein Scenario:
- <strong>Git Clone</strong>: Klont das Repository von <code>git@github.com:GernotUllrich/carambus.git</code>
- <strong>RubyMine-Integration</strong>: Kopiert <code>.idea</code> Konfiguration für sofortige Entwicklungsumgebung
- <strong>Verzeichnisse</strong>: Erstellt <code>log</code>, <code>tmp</code>, <code>storage</code> Verzeichnisse
- <strong>Vollständige Rails-Struktur</strong>: Inklusive aller Migrations und Dateien</p>
<h4 id="scenariosetup_with_rails_rootscenario_nameenvironment"><code>scenario:setup_with_rails_root[scenario_name,environment]</code><a class="headerlink" href="#scenariosetup_with_rails_rootscenario_nameenvironment" title="Permanent link">&para;</a></h4>
<p>Komplettes Setup mit Rails-Root-Folder:
1. Erstellt Rails-Root-Folder
2. Stellt Datenbank wieder her
3. Kopiert generierte Konfigurationsdateien</p>
<h3 id="4-datenbank-management">4. Datenbank-Management<a class="headerlink" href="#4-datenbank-management" title="Permanent link">&para;</a></h3>
<h4 id="scenariocreate_database_dumpscenario_nameenvironment"><code>scenario:create_database_dump[scenario_name,environment]</code><a class="headerlink" href="#scenariocreate_database_dumpscenario_nameenvironment" title="Permanent link">&para;</a></h4>
<p>Erstellt einen komprimierten Datenbank-Dump.</p>
<p><strong>Spezielle Transformation für carambus-Scenario:</strong>
- Generiert <code>carambus_development</code> aus <code>carambus_api_development</code>
- Reset der Version-Sequenz: <code>setval('versions_id_seq', 1, false)</code>
- Aktualisierung der Settings-JSON-Daten:
  - <code>last_version_id</code> auf 1 setzen
  - <code>scenario_name</code> auf "carambus" setzen
- Temporäre Datenbank für Transformation wird automatisch bereinigt</p>
<h4 id="scenariorestore_database_dumpscenario_nameenvironment"><code>scenario:restore_database_dump[scenario_name,environment]</code><a class="headerlink" href="#scenariorestore_database_dumpscenario_nameenvironment" title="Permanent link">&para;</a></h4>
<p>Stellt einen Datenbank-Dump wieder her.</p>
<h3 id="5-deployment">5. Deployment<a class="headerlink" href="#5-deployment" title="Permanent link">&para;</a></h3>
<h4 id="scenarioprepare_developmentscenario_nameenvironment"><code>scenario:prepare_development[scenario_name,environment]</code><a class="headerlink" href="#scenarioprepare_developmentscenario_nameenvironment" title="Permanent link">&para;</a></h4>
<p>Prepares a scenario for local development:
1. Generates configuration files for the specified environment
2. Restores database dump (with region filtering for location scenarios)
3. Ensures Rails root folder exists (creates if needed)
4. Copies basic config files (database.yml, carambus.yml)</p>
<p><strong>Perfect for</strong>: Local development setup, testing scenarios locally.</p>
<h4 id="scenarioprepare_deployscenario_name"><code>scenario:prepare_deploy[scenario_name]</code><a class="headerlink" href="#scenarioprepare_deployscenario_name" title="Permanent link">&para;</a></h4>
<p>Prepares a scenario for deployment with all deployment preparation steps except server deployment:
1. Generates production configuration files
2. Creates database dump from development (with region filtering)
3. Ensures Rails root folder exists (creates if needed)
4. Copies all production configuration files (nginx.conf, puma.rb, puma.service)
5. Copies credentials and master.key
6. Copies deployment files (deploy.rb, deploy/production.rb)</p>
<p><strong>Perfect for</strong>: Local preparation before deployment, testing deployment configuration, or when you want to prepare everything locally before deploying to production.</p>
<p><strong>💡 Config Lock Files</strong>: Configuration files can be protected from being overwritten on the server by creating a <code>.lock</code> file. For example, create <code>/var/www/[basename]/shared/config/carambus.yml.lock</code> on the server to prevent <code>carambus.yml</code> from being updated during deployment. This is useful for preserving server-specific settings. See <a href="../../../docs/CONFIG_LOCK_FILES.md">CONFIG_LOCK_FILES.md</a> for details.</p>
<h4 id="scenariodeployscenario_name"><code>scenario:deploy[scenario_name]</code><a class="headerlink" href="#scenariodeployscenario_name" title="Permanent link">&para;</a></h4>
<p>Deployt ein Scenario zu Production mit Konflikt-Analyse:</p>
<ol>
<li><strong>Server-Analyse</strong>: </li>
<li>Prüft existierende <code>/var/www</code> Verzeichnisse</li>
<li>Analysiert Nginx-Konfiguration auf Port-Konflikte</li>
<li>
<p>Prüft existierende Puma-Services</p>
</li>
<li>
<p><strong>Konflikt-Auflösung</strong>:</p>
</li>
</ol>
<h4 id="scenarioquick_deployscenario_name"><code>scenario:quick_deploy[scenario_name]</code><a class="headerlink" href="#scenarioquick_deployscenario_name" title="Permanent link">&para;</a></h4>
<p><strong>NEW</strong>: Schnelles Deployment für iterative Entwicklung ohne Scenario-Regenerierung:</p>
<p><strong>Verwendung</strong>: Für Code-Änderungen ohne Konfigurationsänderungen (Controller, Views, JavaScript, CSS, Models, Routes)</p>
<p><strong>Vorraussetzungen</strong>:
- Scenario muss bereits deployed sein (<code>scenario:deploy</code> einmal ausgeführt)
- Keine Änderungen an <code>config.yml</code> oder Scenario-Konfiguration
- Änderungen sollten committed und gepusht sein</p>
<p><strong>Ablauf</strong>:
1. <strong>Validierung</strong>: Prüft Scenario-Konfiguration und Rails-Root
2. <strong>Git-Status</strong>: Warnt vor uncommitted Changes
3. <strong>Git-Pull</strong>: Holt neueste Änderungen aus Repository
4. <strong>Asset-Build</strong>: Kompiliert Frontend-Assets (yarn install &amp;&amp; yarn build)
5. <strong>Capistrano-Deployment</strong>: Standard Rails-Deployment
6. <strong>Service-Restart</strong>: Startet Puma-Service neu
7. <strong>Verifikation</strong>: Testet Application-Response</p>
<p><strong>Performance</strong>: 30-60 Sekunden (vs. 5-10 Minuten für vollständiges Deployment)</p>
<p><strong>Perfekt für</strong>: Iterative Entwicklung, Code-Änderungen, Frontend-Updates, Hotfixes</p>
<p><strong>Vollständige Dokumentation</strong>: Siehe <code>ITERATIVE_DEVELOPMENT_WORKFLOW.md</code>
   - Fragt Benutzer nach Auflösungsstrategie:
     - Existierendes Deployment ersetzen
     - Paralleles Deployment erstellen
     - Deployment abbrechen</p>
<ol>
<li><strong>Paralleles Deployment</strong>:</li>
<li>Modifiziert <code>basename</code> (z.B. <code>carambus_carambus_location_2459</code>)</li>
<li>Inkrementiert <code>webserver_port</code> (z.B. 80 → 81)</li>
<li>
<p>Speichert aktualisierte <code>config.yml</code></p>
</li>
<li>
<p><strong>Deployment-Ausführung</strong>:</p>
</li>
<li>Generiert Production-Konfigurationen</li>
<li>Erstellt Production-Datenbank-Dump (mit Transformation für carambus-Scenario)</li>
<li>Kopiert Konfigurationsdateien in Rails-Root-Folder</li>
<li>Uploads shared Konfigurationsdateien auf Server (respektiert <code>.lock</code> Dateien)</li>
<li>Führt Capistrano-Deployment aus</li>
<li>Konfiguriert SSL-Zertifikate (Let's Encrypt)</li>
<li>Setzt Nginx-Konfiguration für Unix-Sockets</li>
<li>Konfiguriert Puma-Service für Unix-Sockets</li>
</ol>
<p><strong>Hinweis</strong>: Konfigurationsdateien mit einer <code>.lock</code> Datei werden beim Upload übersprungen. Siehe <a href="../../../docs/CONFIG_LOCK_FILES.md">CONFIG_LOCK_FILES.md</a>.</p>
<h2 id="templates">Templates<a class="headerlink" href="#templates" title="Permanent link">&para;</a></h2>
<h3 id="1-database-template-databaseymlerb">1. Database Template (<code>database.yml.erb</code>)<a class="headerlink" href="#1-database-template-databaseymlerb" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="x">---</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="x">default: &amp;default</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="x">  adapter: postgresql</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="x">  encoding: unicode</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="x">  pool: </span><span class="cp">&lt;%=</span><span class="w"> </span><span class="no">ENV</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s2">&quot;RAILS_MAX_THREADS&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@environment</span><span class="w"> </span><span class="cp">%&gt;</span><span class="x">:</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="x">  &lt;&lt;: *default</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="x">  database: </span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@config</span><span class="o">[</span><span class="s2">&quot;database_name&quot;</span><span class="o">]</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="x">  </span><span class="cp">&lt;%</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="vi">@config</span><span class="o">[</span><span class="s2">&quot;database_username&quot;</span><span class="o">]</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="x">  username: </span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@config</span><span class="o">[</span><span class="s2">&quot;database_username&quot;</span><span class="o">]</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="x">  </span><span class="cp">&lt;%</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="x">  </span><span class="cp">&lt;%</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="vi">@config</span><span class="o">[</span><span class="s2">&quot;database_password&quot;</span><span class="o">]</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="x">  password: </span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@config</span><span class="o">[</span><span class="s2">&quot;database_password&quot;</span><span class="o">]</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="x">  </span><span class="cp">&lt;%</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="cp">%&gt;</span>
</code></pre></div>
<h3 id="2-carambus-template-carambusymlerb">2. Carambus Template (<code>carambus.yml.erb</code>)<a class="headerlink" href="#2-carambus-template-carambusymlerb" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="x">---</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="x">default:</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="x">  carambus_api_url: </span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@scenario</span><span class="o">[</span><span class="s1">&#39;api_url&#39;</span><span class="o">]</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="x">  location_id: </span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@scenario</span><span class="o">[</span><span class="s1">&#39;location_id&#39;</span><span class="o">]</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="x">  application_name: </span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@scenario</span><span class="o">[</span><span class="s1">&#39;application_name&#39;</span><span class="o">]</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="x">  basename: </span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@scenario</span><span class="o">[</span><span class="s1">&#39;basename&#39;</span><span class="o">]</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="x">  # ... weitere Standard-Parameter</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@environment</span><span class="w"> </span><span class="cp">%&gt;</span><span class="x">:</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="x">  carambus_api_url: </span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@scenario</span><span class="o">[</span><span class="s1">&#39;api_url&#39;</span><span class="o">]</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="x">  location_id: </span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@scenario</span><span class="o">[</span><span class="s1">&#39;location_id&#39;</span><span class="o">]</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="x">  application_name: </span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@scenario</span><span class="o">[</span><span class="s1">&#39;application_name&#39;</span><span class="o">]</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="x">  basename: </span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@scenario</span><span class="o">[</span><span class="s1">&#39;basename&#39;</span><span class="o">]</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="x">  context: </span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@scenario</span><span class="o">[</span><span class="s1">&#39;context&#39;</span><span class="o">]</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="x">  # ... weitere Environment-spezifische Parameter</span>
</code></pre></div>
<h3 id="4-puma-template-puma_rberb">4. Puma Template (<code>puma_rb.erb</code>)<a class="headerlink" href="#4-puma-template-puma_rberb" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="x"># Puma Configuration for </span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@scenario</span><span class="o">[</span><span class="s1">&#39;application_name&#39;</span><span class="o">]</span><span class="w"> </span><span class="cp">%&gt;</span><span class="x"> (</span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@environment</span><span class="w"> </span><span class="cp">%&gt;</span><span class="x">)</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="x"># Generated by Carambus Scenario System</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="x">threads_count = ENV.fetch(&quot;RAILS_MAX_THREADS&quot;) { 5 }</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="x">threads threads_count, threads_count</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="x">environment ENV.fetch(&quot;RAILS_ENV&quot;) { &quot;</span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@environment</span><span class="w"> </span><span class="cp">%&gt;</span><span class="x">&quot; }</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="x">workers ENV.fetch(&quot;WEB_CONCURRENCY&quot;) { 2 }</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="x">preload_app!</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="x">before_fork do</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="x">  ActiveRecord::Base.connection_pool.disconnect! if defined?(ActiveRecord)</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="x">end</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="x">on_worker_boot do</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="x">  ActiveRecord::Base.establish_connection if defined?(ActiveRecord)</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="x">end</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="x">plugin :tmp_restart</span>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="cp">&lt;%</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="vi">@environment</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;production&#39;</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="x"># Production: Use Unix socket for better performance and security</span>
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="x">bind &quot;unix://</span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@production_config</span><span class="o">[</span><span class="s1">&#39;deploy_to&#39;</span><span class="o">]</span><span class="w"> </span><span class="cp">%&gt;</span><span class="x">/shared/sockets/puma-</span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@environment</span><span class="w"> </span><span class="cp">%&gt;</span><span class="x">.sock&quot;</span>
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a><span class="cp">&lt;%</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="cp">%&gt;</span>
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="x"># Development: Use standard port instead of Unix socket</span>
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a><span class="x">port ENV.fetch(&quot;PORT&quot;) { 3000 }</span>
<a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a><span class="cp">&lt;%</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="cp">%&gt;</span>
</code></pre></div>
<h2 id="verfugbare-scenarios">Verfügbare Scenarios<a class="headerlink" href="#verfugbare-scenarios" title="Permanent link">&para;</a></h2>
<h3 id="1-carambus_api">1. carambus_api<a class="headerlink" href="#1-carambus_api" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Beschreibung</strong>: Haupt-API-Server</li>
<li><strong>Context</strong>: API</li>
<li><strong>Production</strong>: newapi.carambus.de:80</li>
<li><strong>SSH</strong>: newapi.carambus.de:8910</li>
<li><strong>Status</strong>: ✅ Erstellt und getestet mit Unix-Sockets</li>
</ul>
<h3 id="2-carambus">2. carambus<a class="headerlink" href="#2-carambus" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Beschreibung</strong>: Lokaler Server (verbindet sich mit API Server)</li>
<li><strong>Context</strong>: LOCAL</li>
<li><strong>API URL</strong>: https://newapi.carambus.de</li>
<li><strong>Production</strong>: carambus.de:80</li>
<li><strong>SSH</strong>: carambus.de:8910</li>
<li><strong>Status</strong>: ✅ Erstellt und getestet mit Unix-Sockets</li>
<li><strong>Besonderheit</strong>: Spezielle Datenbank-Transformation (Version-Sequenz-Reset)</li>
</ul>
<h3 id="3-carambus_location_2459">3. carambus_location_2459<a class="headerlink" href="#3-carambus_location_2459" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Beschreibung</strong>: PHAT Consulting Location</li>
<li><strong>Context</strong>: NBV</li>
<li><strong>Production</strong>: 192.168.178.107:81 (parallel deployment)</li>
<li><strong>SSH</strong>: 192.168.178.107:8910</li>
</ul>
<h3 id="4-carambus_location_2460">4. carambus_location_2460<a class="headerlink" href="#4-carambus_location_2460" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Beschreibung</strong>: Weitere Location (Test-Szenario)</li>
<li><strong>Context</strong>: NBV</li>
<li><strong>Status</strong>: ✅ Rails-Root-Folder erstellt mit RubyMine-Integration</li>
</ul>
<h2 id="verwendung">Verwendung<a class="headerlink" href="#verwendung" title="Permanent link">&para;</a></h2>
<h3 id="1-neues-scenario-erstellen">1. Neues Scenario erstellen<a class="headerlink" href="#1-neues-scenario-erstellen" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># Scenario-Konfiguration erstellen</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>/Volumes/EXT2TB/gullrich/DEV/projects/carambus_data/scenarios/new_scenario
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="c1"># config.yml manuell erstellen</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="c1"># Rails-Root-Folder und Setup</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>rake<span class="w"> </span><span class="s2">&quot;scenario:setup_with_rails_root[new_scenario,development]&quot;</span>
</code></pre></div>
<h3 id="2-scenario-fur-development-vorbereiten">2. Scenario für Development vorbereiten<a class="headerlink" href="#2-scenario-fur-development-vorbereiten" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># Lokale Development-Umgebung einrichten</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>rake<span class="w"> </span><span class="s2">&quot;scenario:prepare_development[carambus_location_2459,development]&quot;</span>
</code></pre></div>
<h3 id="3-scenario-fur-deployment-vorbereiten">3. Scenario für Deployment vorbereiten<a class="headerlink" href="#3-scenario-fur-deployment-vorbereiten" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># Alle Deployment-Schritte außer Server-Deployment</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>rake<span class="w"> </span><span class="s2">&quot;scenario:prepare_deploy[carambus_location_2459]&quot;</span>
</code></pre></div>
<h3 id="4-scenario-deployen">4. Scenario deployen<a class="headerlink" href="#4-scenario-deployen" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># Vollständiges Deployment (für neue Scenarios oder Konfigurationsänderungen)</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>rake<span class="w"> </span><span class="s2">&quot;scenario:deploy[carambus_location_2459]&quot;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="c1"># Schnelles Deployment (für Code-Änderungen ohne Konfigurationsänderungen)</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>rake<span class="w"> </span><span class="s2">&quot;scenario:quick_deploy[carambus_location_2459]&quot;</span>
</code></pre></div>
<h3 id="5-konfigurationen-aktualisieren">5. Konfigurationen aktualisieren<a class="headerlink" href="#5-konfigurationen-aktualisieren" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># Nur Konfigurationsdateien neu generieren</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>rake<span class="w"> </span><span class="s2">&quot;scenario:generate_configs[carambus_location_2459,development]&quot;</span>
</code></pre></div>
<h2 id="migration-vom-mode-switch-system">Migration vom Mode-Switch-System<a class="headerlink" href="#migration-vom-mode-switch-system" title="Permanent link">&para;</a></h2>
<h3 id="1-parameter-extraktion">1. Parameter-Extraktion<a class="headerlink" href="#1-parameter-extraktion" title="Permanent link">&para;</a></h3>
<p>Das alte Mode-Switch-System wurde analysiert und die Parameter in die neue <code>config.yml</code>-Struktur überführt.</p>
<h3 id="2-vorteile-der-neuen-architektur">2. Vorteile der neuen Architektur<a class="headerlink" href="#2-vorteile-der-neuen-architektur" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Klare Trennung</strong>: Code (carambus_api) vs. Konfiguration (carambus_data)</li>
<li><strong>Idempotente Operationen</strong>: Tasks können wiederholt ausgeführt werden</li>
<li><strong>Template-basiert</strong>: Konfigurationen werden aus ERB-Templates generiert</li>
<li><strong>Konflikt-Auflösung</strong>: Automatische Erkennung und interaktive Auflösung</li>
<li><strong>Parallele Deployments</strong>: Mehrere Scenarios auf demselben Server</li>
</ul>
<h3 id="3-nachste-schritte">3. Nächste Schritte<a class="headerlink" href="#3-nachste-schritte" title="Permanent link">&para;</a></h3>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Mode-Switch-System deaktivieren</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Dokumentation für Migration erstellen</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> GitHub-Repository-Zugriff für Raspberry Pi konfigurieren</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Production-Datenbank-Erstellung automatisieren</li>
</ul>
<h2 id="technische-details">Technische Details<a class="headerlink" href="#technische-details" title="Permanent link">&para;</a></h2>
<h3 id="ssh-konfiguration">SSH-Konfiguration<a class="headerlink" href="#ssh-konfiguration" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1"># ~/.ssh/config</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>Host<span class="w"> </span>location_2459
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span>HostName<span class="w"> </span><span class="m">192</span>.168.178.107
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span>Port<span class="w"> </span><span class="m">8910</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">    </span>User<span class="w"> </span>www-data
</code></pre></div>
<h3 id="datenbank-dumps">Datenbank-Dumps<a class="headerlink" href="#datenbank-dumps" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Format</strong>: <code>.sql.gz</code> (komprimiert)</li>
<li><strong>Speicherort</strong>: <code>carambus_data/scenarios/{scenario}/database_dumps/</code></li>
<li><strong>Naming</strong>: <code>{database_name}_{timestamp}.sql.gz</code></li>
</ul>
<h3 id="capistrano-integration">Capistrano-Integration<a class="headerlink" href="#capistrano-integration" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Version</strong>: 3.19.2</li>
<li><strong>Repository</strong>: git@github.com:gullrich/carambus_api.git</li>
<li><strong>Deployment-Pfad</strong>: <code>/var/www/{basename}</code></li>
<li><strong>Service-Name</strong>: <code>puma-{basename}.service</code></li>
</ul>
<h2 id="deployment-automatisierung">Deployment-Automatisierung<a class="headerlink" href="#deployment-automatisierung" title="Permanent link">&para;</a></h2>
<h3 id="vollstandige-automatisierung">Vollständige Automatisierung<a class="headerlink" href="#vollstandige-automatisierung" title="Permanent link">&para;</a></h3>
<p>Das Deployment-System wurde vollständig automatisiert und umfasst:</p>
<h4 id="1-konfigurationsgenerierung">1. <strong>Konfigurationsgenerierung</strong><a class="headerlink" href="#1-konfigurationsgenerierung" title="Permanent link">&para;</a></h4>
<ul>
<li><code>database.yml</code> (Production)</li>
<li><code>carambus.yml</code> (Production)</li>
<li><code>nginx.conf</code> (SSL-konfiguriert)</li>
<li><code>puma.rb</code> (Unix-Socket-konfiguriert)</li>
<li><code>puma.service</code> (Systemd-Service)</li>
</ul>
<h4 id="2-unix-socket-konfiguration">2. <strong>Unix-Socket-Konfiguration</strong><a class="headerlink" href="#2-unix-socket-konfiguration" title="Permanent link">&para;</a></h4>
<ul>
<li>Puma konfiguriert für Unix-Sockets in Production</li>
<li>Nginx-Proxy zu Unix-Sockets statt TCP-Ports</li>
<li>Verbesserte Performance und Sicherheit</li>
<li>Automatische Socket-Verzeichnis-Erstellung</li>
</ul>
<h4 id="3-ssl-zertifikat-management">3. <strong>SSL-Zertifikat-Management</strong><a class="headerlink" href="#3-ssl-zertifikat-management" title="Permanent link">&para;</a></h4>
<ul>
<li>Automatische Prüfung vorhandener Zertifikate</li>
<li>Certbot-Integration für neue Zertifikate</li>
<li>Nginx-SSL-Konfiguration</li>
</ul>
<h4 id="4-service-konfiguration">4. <strong>Service-Konfiguration</strong><a class="headerlink" href="#4-service-konfiguration" title="Permanent link">&para;</a></h4>
<ul>
<li>Puma-Service mit korrekten ERB-Variablen</li>
<li>Automatische Systemd-Integration</li>
<li>Service-Restart nach Konfigurationsänderungen</li>
<li>Ruby 3.2.1 rbenv-Konfiguration</li>
</ul>
<h4 id="5-nginx-management">5. <strong>Nginx-Management</strong><a class="headerlink" href="#5-nginx-management" title="Permanent link">&para;</a></h4>
<ul>
<li>Automatische Konfigurationskopie</li>
<li>Sites-available/Sites-enabled-Setup</li>
<li>Unix-Socket-Proxy-Konfiguration</li>
<li>Konfigurationstest und Reload</li>
</ul>
<h3 id="deployment-workflows">Deployment-Workflows<a class="headerlink" href="#deployment-workflows" title="Permanent link">&para;</a></h3>
<h4 id="vollstandiges-deployment-scenariodeploy">Vollständiges Deployment (<code>scenario:deploy</code>)<a class="headerlink" href="#vollstandiges-deployment-scenariodeploy" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>rake<span class="w"> </span><span class="s2">&quot;scenario:deploy[scenario_name]&quot;</span>
</code></pre></div>
<p><strong>Führt automatisch aus:</strong>
1. Konfigurationsgenerierung (production)
2. Datenbank-Dump-Erstellung (mit Transformation für carambus-Scenario)
3. Konfigurationsdateien kopieren
4. Deployment-Dateien kopieren
5. Shared Konfigurationsdateien auf Server uploaden
6. Capistrano-Deployment ausführen
7. SSL-Zertifikat-Setup (Let's Encrypt)
8. Puma-Service-Konfiguration (Unix-Sockets)
9. Nginx-Konfiguration-Update (Unix-Socket-Proxy)</p>
<p><strong>Verwendung</strong>: Neue Scenarios, Konfigurationsänderungen, SSL-Updates</p>
<h4 id="schnelles-deployment-scenarioquick_deploy">Schnelles Deployment (<code>scenario:quick_deploy</code>)<a class="headerlink" href="#schnelles-deployment-scenarioquick_deploy" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>rake<span class="w"> </span><span class="s2">&quot;scenario:quick_deploy[scenario_name]&quot;</span>
</code></pre></div>
<p><strong>Führt automatisch aus:</strong>
1. Git-Status-Prüfung und Pull
2. Frontend-Asset-Build (yarn install &amp;&amp; yarn build)
3. Capistrano-Deployment
4. Puma-Service-Restart
5. Nginx-Reload
6. Application-Response-Verifikation</p>
<p><strong>Verwendung</strong>: Code-Änderungen, Frontend-Updates, iterative Entwicklung</p>
<h4 id="workflow-vergleich">Workflow-Vergleich<a class="headerlink" href="#workflow-vergleich" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Operation</th>
<th>Vollständiges Deployment</th>
<th>Schnelles Deployment</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Verwendung</strong></td>
<td>Neue Scenarios, Config-Änderungen</td>
<td>Code-Änderungen nur</td>
</tr>
<tr>
<td><strong>Zeit</strong></td>
<td>5-10 Minuten</td>
<td>30-60 Sekunden</td>
</tr>
<tr>
<td><strong>Regeneriert Configs</strong></td>
<td>✅ Ja</td>
<td>❌ Nein</td>
</tr>
<tr>
<td><strong>Baut Assets</strong></td>
<td>✅ Ja</td>
<td>✅ Ja</td>
</tr>
<tr>
<td><strong>Datenbank-Operationen</strong></td>
<td>✅ Ja</td>
<td>❌ Nein</td>
</tr>
<tr>
<td><strong>Service-Restarts</strong></td>
<td>✅ Alle</td>
<td>✅ Puma nur</td>
</tr>
<tr>
<td><strong>SSL-Setup</strong></td>
<td>✅ Ja</td>
<td>❌ Nein</td>
</tr>
</tbody>
</table>
<h2 id="fehlerbehebung">Fehlerbehebung<a class="headerlink" href="#fehlerbehebung" title="Permanent link">&para;</a></h2>
<h3 id="haufige-probleme">Häufige Probleme<a class="headerlink" href="#haufige-probleme" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>GitHub-Zugriff von Raspberry Pi</strong></li>
<li>
<p>Lösung: SSH-Key bei GitHub eintragen</p>
</li>
<li>
<p><strong>Datenbank existiert nicht</strong></p>
</li>
<li>
<p>Lösung: Production-Datenbank erstellen vor Deployment</p>
</li>
<li>
<p><strong>Port-Konflikte</strong></p>
</li>
<li>
<p>Lösung: Automatische Erkennung und Auflösung implementiert</p>
</li>
<li>
<p><strong>Service-Konflikte</strong></p>
</li>
<li>Lösung: Interaktive Auflösung mit Optionen</li>
</ol>
<h2 id="status">Status<a class="headerlink" href="#status" title="Permanent link">&para;</a></h2>
<p>✅ <strong>Implementiert</strong>:
- Scenario-Konfigurations-System
- Template-basierte Generierung
- Rails-Root-Folder-Management (Git Clone)
- RubyMine-Integration (.idea Konfiguration)
- Datenbank-Dump-Management mit Transformation
- Deployment mit Konflikt-Analyse
- Interaktive Konflikt-Auflösung
- <strong>carambus_api Scenario</strong> (API-Server, Unix-Sockets)
- <strong>carambus Scenario</strong> (Lokaler Server, Unix-Sockets)
- <strong>Vollständige Deployment-Automatisierung</strong>
- <strong>Unix-Socket-Konfiguration</strong> (Puma ↔ Nginx)
- <strong>SSL-Zertifikat-Management</strong> (Let's Encrypt)
- <strong>Puma-Service-Konfiguration</strong> (Ruby 3.2.1)
- <strong>Nginx-Konfiguration-Management</strong> (Unix-Socket-Proxy)
- <strong>Template-System für alle Konfigurationsdateien</strong>
- <strong>Spezielle Datenbank-Transformation</strong> (Version-Sequenz-Reset)
- <strong>Capistrano-Integration</strong> (Vollständig automatisiert)</p>
<p>🔄 <strong>In Arbeit</strong>:
- GitHub-Zugriff für Raspberry Pi
- Production-Datenbank-Setup</p>
<p>📋 <strong>Geplant</strong>:
- Mode-Switch-System deaktivieren
- Automatisierte Tests
- Weitere Location-Scenarios</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/GernotUllrich/carambus" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="http://www.billardclub-wedel.de/" target="_blank" rel="noopener" title="www.billardclub-wedel.de" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M352 256c0 22.2-1.2 43.6-3.3 64H163.4c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64h185.3c2.2 20.4 3.3 41.8 3.3 64m28.8-64h123.1c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64m112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6 78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7 10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5 11.6 26 20.9 58.2 27 94.7m-209 0H18.6c30-74.1 93.6-130.9 172-151.6-25.5 34.2-45.3 87.7-55.3 151.6M8.1 192h123.1c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64m186.6 254.6c-11.6-26-20.9-58.2-27-94.6h176.6c-6.1 36.4-15.5 68.6-27 94.6-10.5 23.6-22.2 40.7-33.5 51.5-11.2 10.7-20.5 13.9-27.8 13.9s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6-78.4-20.7-142-77.5-172-151.6zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6 25.5-34.2 45.2-87.7 55.3-151.6h116.7z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.indexes", "search.suggest", "search.highlight", "header.autohide", "toc.follow"], "search": "../../../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="../../../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>